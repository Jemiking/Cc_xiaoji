# CC小记 - 应用架构层级设计理念

> 创建时间：2025年1月7日
> 作者：Claude Code
> 文档版本：v1.0

## 📐 架构层级设计

CC小记采用清晰的层级架构设计：

```
CC小记（应用层）
│
├── 主页（Home）──────── 应用级别入口
│   ├── 模块卡片展示
│   └── FAB快捷操作 ──── 应用级别快捷入口
│
├── 个人中心（Profile）── 应用级别设置
│
└── 功能模块层 ────────── 第二层级
    ├── 记账（Ledger）
    ├── 待办（Todo）
    ├── 习惯（Habit）
    ├── 排班（Schedule）
    └── 计划（Plan）
    
    说明：这5个模块彼此平级，
    但都是应用的子功能
```

## 🎯 设计理念

### 1. 层级关系明确
- **应用层**：CC小记作为生活管理工具的整体
- **功能层**：各个具体的功能模块

### 2. 模块间关系
- **横向关系**：5个功能模块之间是平级关系，相互独立
- **纵向关系**：所有模块都是CC小记应用的子功能

### 3. FAB定位
- **属性**：FAB是应用级别的快捷操作入口
- **作用**：提供跨模块的快速操作能力
- **显示**：只在主页（应用入口）显示

## 💡 设计优势

1. **职责清晰**
   - 主页：应用导航和快捷入口
   - 模块：专注各自的业务功能

2. **扩展性好**
   - 新增模块不影响现有架构
   - FAB可灵活配置快捷操作

3. **用户体验统一**
   - 清晰的层级让用户容易理解
   - FAB只在需要的地方出现，避免干扰

## 📌 实现要点

### FAB显示逻辑
```kotlin
// 只在首页显示FAB
if (currentRoute == Screen.Home.route) {
    QuickActionFAB(navController = navController)
}
```

### 导航结构
- 底部导航：2个标签（首页、我的）- 应用级别
- 模块入口：通过首页卡片进入 - 功能级别

### 设计原则
1. **FAB不出现在模块内**：模块是子功能，不应有应用级别的操作
2. **模块保持独立**：每个模块专注自己的功能，不依赖FAB
3. **主页是枢纽**：连接用户与各功能模块

## 🔍 与其他设计的对比

### 如果是平级设计：
- 记账、待办等会与主页同级
- 每个页面可能都需要FAB
- 底部导航会有6个标签

### 我们的层级设计：
- ✅ 主页是唯一的应用入口
- ✅ FAB服务于整个应用
- ✅ 模块专注各自功能
- ✅ 界面更简洁，层次更清晰

---
*此文档记录了CC小记的核心架构决策，对后续开发具有指导意义*