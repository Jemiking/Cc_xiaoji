# ä¼šè¯æ¢å¤æŒ‡å— - 2025-06-28

## ğŸ¯ å½“å‰ä»»åŠ¡çŠ¶æ€

### æ­£åœ¨è¿›è¡Œçš„ä»»åŠ¡
**æŠ€æœ¯å€ºåŠ¡æ¸…é™¤ç¬¬2é˜¶æ®µ** - ç›®æ ‡ï¼š85%å¥åº·åº¦
- âœ… å·²å®Œæˆï¼šRepositoryæµ‹è¯•æå‡ï¼ˆ33-35%è¦†ç›–ç‡ï¼‰
- âœ… å·²å®Œæˆï¼šç‰ˆæœ¬è¿ç§»å¿…è¦æ€§åˆ†æï¼ˆROI 593%ï¼‰
- âœ… å·²å®Œæˆï¼šç‰ˆæœ¬è¿ç§»æ‰§è¡Œæ–‡æ¡£ä½“ç³»ï¼ˆ6ä¸ªæ–‡æ¡£ï¼‰
- â³ å¾…æ‰§è¡Œï¼šç‰ˆæœ¬ç›®å½•è¿ç§»ï¼ˆshared/*å’Œfeature/planæ¨¡å—ï¼‰

### å¾…å®Œæˆçš„TODO
```
1. ç¬¬3é˜¶æ®µï¼šç‰ˆæœ¬ç›®å½•å®Œå…¨è¿ç§» - ä¿®å¤shared/*æ¨¡å— [pending]
2. ç¬¬3é˜¶æ®µï¼šç‰ˆæœ¬ç›®å½•å®Œå…¨è¿ç§» - ä¿®å¤feature/planæ¨¡å— [pending]
```

## ğŸš€ é‡å¯åç«‹å³æ‰§è¡Œ

### 1. éªŒè¯MCPæœåŠ¡å™¨
```bash
# æ£€æŸ¥MCPæ˜¯å¦æ¿€æ´»
claude mcp list

# åº”è¯¥çœ‹åˆ°ï¼š
# kotlin-compiler: node /mnt/d/kotlin/mcp-kotlin-compiler/dist/server.js
```

### 2. æµ‹è¯•MCPç¼–è¯‘åŠŸèƒ½
```
# ä½¿ç”¨è‡ªç„¶è¯­è¨€è°ƒç”¨MCPå·¥å…·
ä½¿ç”¨MCPå·¥å…· check_gradle æ£€æŸ¥ç¯å¢ƒï¼ŒprojectPathæ˜¯"."

# æˆ–è€…
ä½¿ç”¨kotlin-compilerçš„check_gradleå·¥å…·ï¼ŒprojectPathå‚æ•°æ˜¯"."
```

### 3. å¼€å§‹ç‰ˆæœ¬è¿ç§»ç¬¬ä¸€ä¸ªæ¨¡å—
```bash
# åˆ‡æ¢åˆ°æ­£ç¡®åˆ†æ”¯
git checkout feature/plan-module-migration

# æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# å¼€å§‹è¿ç§»shared-useræ¨¡å—
cat shared/user/build.gradle.kts
```

## ğŸ“‹ ç‰ˆæœ¬è¿ç§»å¿«é€Ÿå¼€å§‹

### æ¨¡å—è¿ç§»é¡ºåº
1. **shared-user** â† ä»è¿™é‡Œå¼€å§‹
2. shared-sync
3. shared-backup
4. shared-notification
5. feature-planï¼ˆå·²éƒ¨åˆ†è¿ç§»ï¼‰

### æ¯ä¸ªæ¨¡å—çš„æ‰§è¡Œæ­¥éª¤
```bash
# 1. åˆ†æç¡¬ç¼–ç ç‰ˆæœ¬
rg '"[0-9]+\.[0-9]+\.[0-9]+"' shared/user/build.gradle.kts

# 2. æ›¿æ¢ç‰ˆæœ¬å¼•ç”¨ï¼ˆå‚è€ƒæ˜ å°„è¡¨ï¼‰
# ç¼–è¾‘ shared/user/build.gradle.kts

# 3. ä½¿ç”¨MCPéªŒè¯ç¼–è¯‘
ä½¿ç”¨MCPå·¥å…· compile_kotlinï¼ŒprojectPathæ˜¯"."ï¼Œmoduleæ˜¯"shared-user"

# 4. è¿è¡ŒéªŒè¯è„šæœ¬
./scripts/verify-version-migration.sh shared/user

# 5. æäº¤æ›´æ”¹
git add shared/user/build.gradle.kts
git commit -m "refactor: è¿ç§»shared-useræ¨¡å—åˆ°ç‰ˆæœ¬ç›®å½•"
```

## ğŸ”§ MCPå·¥å…·ä½¿ç”¨ç¤ºä¾‹

### ç¯å¢ƒæ£€æŸ¥
```
ä½¿ç”¨kotlin-compilerçš„check_gradleå·¥å…·æ£€æŸ¥ç¯å¢ƒï¼ŒprojectPathæ˜¯"."
```

### ç¼–è¯‘æ•´ä¸ªé¡¹ç›®
```
ä½¿ç”¨kotlin-compilerçš„compile_kotlinå·¥å…·ç¼–è¯‘é¡¹ç›®ï¼ŒprojectPathæ˜¯"."
```

### ç¼–è¯‘ç‰¹å®šæ¨¡å—
```
ä½¿ç”¨kotlin-compilerçš„compile_kotlinå·¥å…·ç¼–è¯‘æ¨¡å—ï¼ŒprojectPathæ˜¯"."ï¼Œmoduleæ˜¯"shared-user"
```

### æ¸…ç†é¡¹ç›®
```
ä½¿ç”¨kotlin-compilerçš„compile_kotlinå·¥å…·æ¸…ç†é¡¹ç›®ï¼ŒprojectPathæ˜¯"."ï¼Œtaskæ˜¯"clean"
```

## ğŸ“š å…³é”®æ–‡æ¡£ä½ç½®

### ç‰ˆæœ¬è¿ç§»æ–‡æ¡£
- **æ‰§è¡Œæ‰‹å†Œ**: `doc/20250628-ç‰ˆæœ¬ç›®å½•è¿ç§»æ‰§è¡Œæ‰‹å†Œ.md`
- **å¿«é€Ÿæ£€æŸ¥å¡**: `doc/20250628-ç‰ˆæœ¬ç›®å½•è¿ç§»å¿«é€Ÿæ£€æŸ¥å¡.md`
- **å®Œæ•´æ˜ å°„è¡¨**: `doc/20250628-ç‰ˆæœ¬ç›®å½•å®Œæ•´æ˜ å°„è¡¨.md`
- **é˜²è·‘åæ¸…å•**: `doc/20250628-ç‰ˆæœ¬è¿ç§»é˜²è·‘åæ£€æŸ¥æ¸…å•.md`

### è¿›åº¦æŠ¥å‘Š
- **æŠ€æœ¯å€ºåŠ¡è·¯çº¿å›¾**: `doc/20250627-æŠ€æœ¯å€ºåŠ¡æ¸…é™¤è·¯çº¿å›¾.md`
- **ç¬¬2é˜¶æ®µè¿›å±•**: `doc/20250628-æŠ€æœ¯å€ºåŠ¡æ¸…é™¤ç¬¬2é˜¶æ®µè¿›å±•.md`

## âš¡ å¿«é€Ÿå‘½ä»¤é›†

```bash
# Gitç›¸å…³
git status
git diff
git log --oneline -5

# ç‰ˆæœ¬æ£€æŸ¥
rg '"[0-9]+\.[0-9]+\.[0-9]+"' --glob '**/build.gradle.kts'

# æ¨¡å—åˆ—è¡¨
ls -la shared/
ls -la feature/

# éªŒè¯è„šæœ¬
chmod +x scripts/verify-version-migration.sh
./scripts/verify-version-migration.sh [module]
```

## ğŸ¯ é¢„æœŸæˆæœ

### æœ¬æ¬¡ä¼šè¯ç›®æ ‡
1. âœ… é…ç½®MCPç¼–è¯‘æœåŠ¡å™¨
2. â³ è¿ç§»5ä¸ªæ¨¡å—åˆ°ç‰ˆæœ¬ç›®å½•
3. â³ è¾¾åˆ°85%æŠ€æœ¯å€ºåŠ¡å¥åº·åº¦
4. â³ æäº¤è¿ç§»æ›´æ”¹

### æˆåŠŸæ ‡å‡†
- æ‰€æœ‰æ¨¡å—ä½¿ç”¨libs.versions.toml
- 0ä¸ªç¡¬ç¼–ç ç‰ˆæœ¬
- æ‰€æœ‰æ¨¡å—ç¼–è¯‘é€šè¿‡
- ç‰ˆæœ¬ä¿æŒä¸å˜

## ğŸ’¡ æé†’äº‹é¡¹

1. **ä¿æŒä¸“æ³¨**ï¼šåªæ”¹ç‰ˆæœ¬å¼•ç”¨ï¼Œä¸æ”¹å…¶ä»–
2. **é¢‘ç¹éªŒè¯**ï¼šæ¯ä¸ªæ¨¡å—éƒ½è¦ç¼–è¯‘éªŒè¯
3. **ä½¿ç”¨MCP**ï¼šåˆ©ç”¨ç¼–è¯‘å·¥å…·å®æ—¶éªŒè¯
4. **å‚è€ƒæ–‡æ¡£**ï¼šé‡åˆ°é—®é¢˜æŸ¥é˜…æ˜ å°„è¡¨

## ğŸ”„ æ¢å¤å‘½ä»¤

é‡å¯Claudeåï¼Œæ‰§è¡Œï¼š
```bash
# 1. æŸ¥çœ‹æ­¤æ–‡æ¡£
cat doc/20250628-ä¼šè¯æ¢å¤æŒ‡å—.md

# 2. ç»§ç»­ä¸Šæ¬¡çš„å·¥ä½œ
claude --continue
```

---
*åˆ›å»ºæ—¶é—´ï¼š2025-06-28*  
*ç”¨é€”ï¼šç¡®ä¿ä¼šè¯é‡å¯åèƒ½ç»§ç»­ç‰ˆæœ¬è¿ç§»å·¥ä½œ*  
*çŠ¶æ€ï¼šç­‰å¾…MCPæ¿€æ´»åå¼€å§‹æ‰§è¡Œ*