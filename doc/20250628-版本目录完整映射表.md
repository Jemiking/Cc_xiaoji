# 版本目录完整映射表

## 📌 说明
本文档提供所有硬编码版本与libs.versions.toml引用的完整映射关系。

## 🗂️ 版本映射表

### Android SDK版本
| 硬编码值 | 版本目录引用 | 使用位置 |
|---------|------------|---------|
| `34` | `libs.versions.compileSdk.get().toInt()` | android.compileSdk |
| `26` | `libs.versions.minSdk.get().toInt()` | defaultConfig.minSdk |
| `34` | `libs.versions.targetSdk.get().toInt()` | defaultConfig.targetSdk |
| `"33.0.2"` | `libs.versions.buildTools.get()` | android.buildToolsVersion |

### Java版本
| 硬编码值 | 版本目录引用 | 使用位置 |
|---------|------------|---------|
| `JavaVersion.VERSION_17` | 保持不变 | compileOptions |
| `"17"` | 保持不变 | kotlinOptions.jvmTarget |

### Kotlin编译器
| 硬编码值 | 版本目录引用 | 使用位置 |
|---------|------------|---------|
| `"1.5.7"` | `libs.versions.compose.compiler.get()` | composeOptions.kotlinCompilerExtensionVersion |

### Core Android库
| 硬编码依赖 | 版本目录引用 |
|-----------|------------|
| `"androidx.core:core-ktx:1.12.0"` | `libs.androidx.core.ktx` |
| `"androidx.lifecycle:lifecycle-runtime-ktx:2.7.0"` | `libs.androidx.lifecycle.runtime.ktx` |
| `"androidx.lifecycle:lifecycle-runtime-compose:2.7.0"` | `libs.androidx.lifecycle.runtime.compose` |
| `"androidx.lifecycle:lifecycle-viewmodel-compose:2.7.0"` | `libs.androidx.lifecycle.viewmodel.compose` |
| `"androidx.lifecycle:lifecycle-viewmodel-ktx:2.7.0"` | `libs.lifecycle.viewmodel.ktx` |
| `"androidx.activity:activity-compose:1.8.2"` | `libs.androidx.activity.compose` |
| `"androidx.navigation:navigation-compose:2.7.6"` | `libs.androidx.navigation.compose` |

### Compose
| 硬编码依赖 | 版本目录引用 |
|-----------|------------|
| `"androidx.compose:compose-bom:2024.02.00"` | `platform(libs.compose.bom)` |
| `"androidx.compose.ui:ui"` | `libs.compose.ui` |
| `"androidx.compose.ui:ui-graphics"` | `libs.compose.ui.graphics` |
| `"androidx.compose.ui:ui-tooling-preview"` | `libs.compose.ui.tooling.preview` |
| `"androidx.compose.material3:material3"` | `libs.compose.material3` |
| `"androidx.compose.material:material-icons-extended"` | `libs.compose.material.icons` |
| `"androidx.compose.ui:ui-tooling"` | `libs.compose.ui.tooling` |
| `"androidx.compose.ui:ui-test-manifest"` | `libs.compose.ui.test.manifest` |
| `"androidx.compose.ui:ui-test-junit4"` | `libs.compose.ui.test.junit4` |

### Hilt依赖注入
| 硬编码依赖 | 版本目录引用 |
|-----------|------------|
| `"com.google.dagger:hilt-android:2.48.1"` | `libs.hilt.android` |
| `"com.google.dagger:hilt-compiler:2.48.1"` | `libs.hilt.compiler` |
| `"androidx.hilt:hilt-navigation-compose:1.1.0"` | `libs.hilt.navigation.compose` |
| `"androidx.hilt:hilt-work:1.1.0"` | `libs.hilt.work` |
| `"androidx.hilt:hilt-compiler:1.1.0"` | `libs.hilt.androidx.compiler` |

### Room数据库
| 硬编码依赖 | 版本目录引用 |
|-----------|------------|
| `"androidx.room:room-runtime:2.6.1"` | `libs.room.runtime` |
| `"androidx.room:room-ktx:2.6.1"` | `libs.room.ktx` |
| `"androidx.room:room-compiler:2.6.1"` | `libs.room.compiler` |

### Kotlin扩展库
| 硬编码依赖 | 版本目录引用 |
|-----------|------------|
| `"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.7.3"` | `libs.kotlin.coroutines` |
| `"org.jetbrains.kotlinx:kotlinx-datetime:0.5.0"` | `libs.kotlin.datetime` |
| `"org.jetbrains.kotlinx:kotlinx-serialization-json:1.6.0"` | `libs.kotlin.serialization.json` |
| `"org.jetbrains.kotlinx:kotlinx-collections-immutable:0.3.5"` | `libs.kotlinx.collections.immutable` |

### 其他AndroidX库
| 硬编码依赖 | 版本目录引用 |
|-----------|------------|
| `"androidx.datastore:datastore-preferences:1.0.0"` | `libs.androidx.datastore` |
| `"androidx.work:work-runtime-ktx:2.9.0"` | `libs.androidx.work` |
| `"androidx.security:security-crypto:1.1.0-alpha06"` | `libs.androidx.security.crypto` |

### 网络库
| 硬编码依赖 | 版本目录引用 |
|-----------|------------|
| `"com.squareup.retrofit2:retrofit:2.9.0"` | `libs.retrofit` |
| `"com.squareup.retrofit2:converter-gson:2.9.0"` | `libs.retrofit.gson` |
| `"com.squareup.okhttp3:logging-interceptor:4.12.0"` | `libs.okhttp.logging` |
| `"com.google.code.gson:gson:2.10.1"` | `libs.gson` |

### 测试依赖
| 硬编码依赖 | 版本目录引用 |
|-----------|------------|
| `"junit:junit:4.13.2"` | `libs.junit` |
| `"io.mockk:mockk:1.13.8"` | `libs.mockk` |
| `"com.google.truth:truth:1.1.5"` | `libs.truth` |
| `"org.jetbrains.kotlinx:kotlinx-coroutines-test:1.7.3"` | `libs.coroutines.test` |
| `"org.robolectric:robolectric:4.11.1"` | `libs.robolectric` |
| `"androidx.test.ext:junit:1.1.5"` | `libs.androidx.test.ext` |
| `"androidx.test.espresso:espresso-core:3.5.1"` | `libs.androidx.test.espresso` |

### 特殊依赖
| 硬编码依赖 | 版本目录引用 |
|-----------|------------|
| `"com.android.tools:desugar_jdk_libs:2.0.4"` | `libs.desugar.jdk.libs` |

## 🎯 使用示例

### 示例1：基础Android配置
```kotlin
// Before
android {
    compileSdk = 34
    buildToolsVersion = "33.0.2"
    
    defaultConfig {
        minSdk = 26
        targetSdk = 34
    }
}

// After
android {
    compileSdk = libs.versions.compileSdk.get().toInt()
    buildToolsVersion = libs.versions.buildTools.get()
    
    defaultConfig {
        minSdk = libs.versions.minSdk.get().toInt()
        targetSdk = libs.versions.targetSdk.get().toInt()
    }
}
```

### 示例2：依赖声明
```kotlin
// Before
dependencies {
    implementation("androidx.core:core-ktx:1.12.0")
    implementation("androidx.compose.ui:ui:$compose_version")
    ksp("androidx.room:room-compiler:2.6.1")
}

// After
dependencies {
    implementation(libs.androidx.core.ktx)
    implementation(libs.compose.ui)
    ksp(libs.room.compiler)
}
```

### 示例3：使用Bundle
```kotlin
// 可以使用预定义的bundle来简化依赖
dependencies {
    implementation(libs.bundles.compose.ui)
    implementation(libs.bundles.lifecycle)
    testImplementation(libs.bundles.testing)
}
```

## ⚠️ 注意事项

1. **platform()包装**：Compose BOM需要保留platform()包装
   ```kotlin
   implementation(platform(libs.compose.bom))
   ```

2. **类型转换**：SDK版本需要转换为Int
   ```kotlin
   compileSdk = libs.versions.compileSdk.get().toInt()
   ```

3. **KSP vs implementation**：注意编译器依赖使用ksp而不是implementation
   ```kotlin
   ksp(libs.room.compiler)  // 不是 implementation
   ```

4. **保持不变的值**：
   - JavaVersion.VERSION_17
   - jvmTarget = "17"
   - 其他非版本号字符串

---
*最后更新：2025-06-28*  
*用途：版本目录迁移的完整参考*