架构规划 - 将需求转化为技术方案

Arguments: $ARGUMENTS

## 🏗️ 架构规划任务

调用 **architect** agent 设计技术方案并分解任务。

## 规划需求

**需求描述**: $ARGUMENTS

## 执行流程

我将调用 **architect** agent 执行以下步骤:

### 阶段 1: 需求理解与调研

**1.1 明确需求**
- 核心功能是什么?
- 性能/安全性要求?
- 兼容性约束?

**1.2 调研现有代码**
- 调用 searcher 检索相关代码
- 调用 analyzer 分析现有架构
- 评估复用可能性

### 阶段 2: 方案设计

**2.1 技术选型**
考虑因素:
- 与现有技术栈的一致性
- 性能和可扩展性
- 团队熟悉度
- **奥卡姆剃刀原则**: 优先简单方案

**2.2 架构设计**
- 模块划分
- 数据流设计
- 接口设计
- 错误处理策略
- 测试策略

**2.3 遵循现有规范**
- 命名规范
- 目录结构规范
- 代码风格规范

### 阶段 3: 任务分解

**3.1 识别任务类型**
- 实现类任务(核心功能/辅助功能/配置)
- 质量类任务(测试/审查)
- 文档类任务(API 文档/使用说明)

**3.2 任务依赖分析**
- 哪些任务可以并发?
- 哪些任务有先后依赖?
- 关键路径是什么?

**3.3 制定执行计划**
按阶段组织,标注并发/串行关系

## 设计原则

✅ **奥卡姆剃刀**: 最简单的方案优先
✅ **复用现有**: 优先使用现有代码和模式
✅ **遵循规范**: 保持架构一致性
✅ **诚实无知**: 不确定时向用户确认

## 预期输出

```markdown
## 技术方案: [功能名称]

### 1. 需求概述
[需求描述]

### 2. 技术选型
- 语言/框架
- 关键库
- 设计模式
- 选型理由

### 3. 架构设计
[模块结构、核心流程、数据流]

### 4. 接口设计
[接口定义]

### 5. 错误处理
[错误处理策略]

### 6. 测试策略
[测试方案]

### 7. 风险评估
[风险和缓解措施]

---

## 实施任务清单

### 阶段1: 基础实现 (可并发)
- [ ] 任务1
- [ ] 任务2

### 阶段2: 集成 (串行)
- [ ] 任务3

### 阶段3: 质量保障 (可并发)
- [ ] 测试
- [ ] 审查
- [ ] 文档
```

## 开始规划

现在调用 architect agent 开始架构规划...
